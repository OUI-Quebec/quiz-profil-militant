<div class="question-container">
  <div class="question-card">
    <div class="question-header">
      <h2 class="question-titre">{{ question().question }}</h2>
    </div>

    <div class="choix-container">
      @for (choix of question().choix; track choix.reponse; let i = $index) {
      <div
        class="choix-card"
        (click)="selectionnerChoix(choix)"
        [class.selected]="choixSelectionne === choix"
        [style.animation-delay.ms]="i * 100"
      >
        <div class="choix-content">
          <span class="choix-texte">{{ choix.reponse }}</span>
          <div class="choix-indicator">
            <span class="checkmark">✓</span>
          </div>
        </div>
      </div>
      }
    </div>

    <div class="actions">
      <button
        class="btn-precedent"
        (click)="precedent()"
        [disabled]="!peutRetourner()"
        (mouseenter)="onHoverPrecedent(true)"
        (mouseleave)="onHoverPrecedent(false)"
      >
        <span class="btn-icon">
          <app-lottie-emoji
            #precedentLottie
            [emojiCode]="'1f448'"
            [size]="20"
            [loop]="false"
            [autoplay]="false"
          ></app-lottie-emoji>
        </span>
        <span class="btn-text">Précédent</span>
      </button>

      <div class="actions-centre">
        <button
          class="btn-passer"
          (click)="passer()"
          (mouseenter)="onHoverPasser(true)"
          (mouseleave)="onHoverPasser(false)"
        >
          <span class="btn-text">Passer</span>
          <span class="btn-icon">
            <app-lottie-emoji
              #passerLottie
              [emojiCode]="'1f44e'"
              [size]="20"
              [loop]="false"
              [autoplay]="false"
            ></app-lottie-emoji>
          </span>
        </button>
      </div>

      <button
        class="btn-suivant"
        (click)="suivant()"
        [disabled]="!choixSelectionne"
        (mouseenter)="onHoverSuivant(true)"
        (mouseleave)="onHoverSuivant(false)"
      >
        <span class="btn-text">Suivant</span>
        <span class="btn-icon">
          <app-lottie-emoji
            #suivantLottie
            [emojiCode]="'1f449'"
            [size]="20"
            [loop]="false"
            [autoplay]="false"
          ></app-lottie-emoji>
        </span>
      </button>
    </div>

    <div class="actions-secondaires">
      <button
        class="btn-recommencer"
        (click)="recommencer()"
        (mouseenter)="onHoverRecommencer(true)"
        (mouseleave)="onHoverRecommencer(false)"
      >
        <span class="btn-icon">
          <app-lottie-emoji
            #recommencerLottie
            [emojiCode]="'1f91a'"
            [size]="20"
            [loop]="false"
            [autoplay]="false"
          ></app-lottie-emoji>
        </span>
        <span class="btn-text">Recommencer le quiz</span>
      </button>
    </div>
  </div>

  <div class="question-background">
    <div class="animated-bg">
      <div class="bg-element bg-1"></div>
      <div class="bg-element bg-2"></div>
      <div class="bg-element bg-3"></div>
    </div>
  </div>
</div>
